* git/magit
:PROPERTIES:
:ID:       2945a736-1523-4cd8-8b7c-a58fed61f7f8
:END:
** git-wip
#+name: git-wip
#+begin_src emacs-lisp
  (global-magit-wip-save-mode)
#+end_src

** git in English
#+name: git-english
#+begin_src emacs-lisp :tangle no
  (defadvice magit-start-process (around lang-en_US activate)
    "Set LANG to en_US."
    (let ((process-environment process-environment))
      (setenv "LANG" "en_US.utf8")
      ad-do-it))

  (defadvice magit-call-process (around lang-en_US activate)
    "Set LANG to en_US."
    (let ((process-environment process-environment))
      (setenv "LANG" "en_US.utf8")
      ad-do-it))
#+end_src

** git annex
#+name: git-annex
#+begin_src emacs-lisp
  (require 'git-annex)
  (require 'magit-annex () t)

  (with-eval-after-load 'dired
    (define-key dired-mode-map [@ e] 'magit-annex-edit-dired)
    (define-key dired-mode-map [@ g] 'magit-annex-get-dired))
#+end_src

* vcsh by tramp
#+name: vsh-by-tramp
#+begin_src emacs-lisp
  (with-eval-after-load 'tramp
    (add-to-list 'tramp-methods '("vcsh"
                                   (tramp-login-program "vcsh")
                                   (tramp-login-args
                                    (("enter")
                                     ("%h")))
                                   (tramp-remote-shell "/bin/sh")
                                   (tramp-remote-shell-args
                                    ("-c")))))
#+end_src
