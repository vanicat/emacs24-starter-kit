* Add src

* Don't add melpa
#+name: melpa
#+begin_src emacs-lisp-nop
  (add-to-list 'package-archives
    '("melpa" . "http://melpa.milkbox.net/packages/") t)
#+end_src
* Use https everywhere
#+name: https
#+begin_src emacs-lisp
  (setq package-archives '(("gnu" . "https://elpa.gnu.org/packages/")
                           ;; ("marmalade" . "https://marmalade-repo.org/packages/")
                           ))

#+end_src

* Add package directory
#+name: pk-directory
#+begin_src emacs-lisp
  (add-to-list 'package-directory-list "/home/moi/.emacs.d/src/")
#+end_src

* My install
#+begin_src emacs-lisp :tangle no
  (defun my-install-if-needed (packet &optional feature)
    (unless feature
      (setq feature packet))
    (unless (require feature () t)
      (package-install packet)))
#+end_src
* load my package
#+begin_src emacs-lisp :tangle no
  (my-install-if-needed 'flycheck)
  ;(my-install-if-needed 'flycheck-ledger)
  (my-install-if-needed 'nxml 'nxml-mode)
  (my-install-if-needed 'paredit)
  (my-install-if-needed 'helm)
  (my-install-if-needed 'yasnippet)
  (my-install-if-needed 'auctex 'tex-site)
  (when (display-graphic-p)
    (my-install-if-needed 'pdf-tools))
  (my-install-if-needed 'pkg-info)
  (my-install-if-needed 'adaptive-wrap)
#+end_src
